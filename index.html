<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RUSSO SHOP</title>

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
}

/* ===== ГИРЛЯНДА ===== */
.garland{
  display:flex;
  justify-content:space-around;
  padding:6px;
}
.garland span{
  font-size:14px;
  animation:blink 1.5s infinite alternate;
}
.garland span:nth-child(odd){color:red}
.garland span:nth-child(even){color:white}
@keyframes blink{from{opacity:.3}to{opacity:1}}

/* ===== СНЕЖИНКИ ===== */
.snow{
  position:fixed;
  top:-10px;
  color:white;
  font-size:14px;
  animation:fall linear infinite;
}
@keyframes fall{
  to{transform:translateY(100vh)}
}

/* ===== КАТАЛОГ ===== */
.catalog{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:8px;
  padding:8px;
}

/* ===== КАРТОЧКА ===== */
.card{
  background:#111;
  border-radius:10px;
  padding:6px;
  font-size:12px;
}
.card img{
  width:100%;
  border-radius:8px;
}
.badge{
  background:red;
  color:white;
  font-size:10px;
  padding:2px 6px;
  border-radius:6px;
  display:inline-block;
  margin-bottom:4px;
}
.old{
  color:#fff;
  text-decoration:line-through;
  opacity:.6;
}
.price{font-weight:bold}

/* ===== СТРАНИЦЫ ===== */
.page{display:none}
.page.active{display:block}

button{
  background:#fff;
  color:#000;
  border:none;
  padding:10px;
  border-radius:8px;
  width:100%;
  margin-top:6px;
  font-weight:bold;
}

/* ===== КОРЗИНА ===== */
.cart-item{
  background:#111;
  padding:6px;
  border-radius:8px;
  display:flex;
  gap:6px;
  margin-bottom:6px;
}
.cart-item img{
  width:60px;
  border-radius:6px;
}
</style>
</head>

<body>

<div class="garland">
  <span>●</span><span>●</span><span>●</span><span>●</span><span>●</span>
  <span>●</span><span>●</span><span>●</span><span>●</span><span>●</span>
</div>

<h2 style="text-align:center">RUSSO SHOP</h2>

<!-- ===== ГЛАВНАЯ ===== -->
<div id="home" class="page active">
  <div class="catalog" id="catalog"></div>
</div>

<!-- ===== ТОВАР ===== -->
<div id="product" class="page">
  <img id="pImg" style="width:100%">
  <h3 id="pName"></h3>
  <div class="old" id="pOld"></div>
  <div class="price" id="pPrice"></div>
  <p id="pDesc"></p>
  <button onclick="addToCart()">Добавить в корзину</button>
</div>

<!-- ===== КОРЗИНА ===== -->
<div id="cart" class="page">
  <h3>Корзина</h3>
  <div id="cartList"></div>
  <p>Выделено: <span id="count">0</span></p>
  <button onclick="makeCheck()">Получить чек</button>
  <div id="check"></div>
</div>

<script>
/* ===== СНЕГ ===== */
for(let i=0;i<30;i++){
  let s=document.createElement("div");
  s.className="snow";
  s.innerHTML="❄";
  s.style.left=Math.random()*100+"%";
  s.style.animationDuration=5+Math.random()*5+"s";
  document.body.appendChild(s);
}

/* ===== ТОВАРЫ ===== */
const products=[
{
 name:"RGB подсветка",
 img:"rgb.png",
 old:2670,
 price:2563,
 desc:"Умная RGB подсветка для комнаты"
},
{
 name:"Неоновая лампа",
 img:"lamp.png",
 old:1990,
 price:1790,
 desc:"Неоновый светильник"
}
];

let current=null;
let cart=[];

/* ===== РЕНДЕР ===== */
const cat=document.getElementById("catalog");
products.forEach((p,i)=>{
  cat.innerHTML+=`
  <div class="card" onclick="openProduct(${i})">
    <div class="badge">НОВОГОДНЯЯ СКИДКА</div>
    <img src="${p.img}">
    <b>${p.name}</b>
    <div class="old">${p.old} ₽</div>
    <div class="price">${p.price} ₽</div>
  </div>`;
});

function show(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function openProduct(i){
  current=products[i];
  pImg.src=current.img;
  pName.innerText=current.name;
  pOld.innerText=current.old+" ₽";
  pPrice.innerText=current.price+" ₽";
  pDesc.innerText=current.desc;
  show("product");
}

function addToCart(){
  cart.push(current);
  show("cart");
  renderCart();
}

function renderCart(){
  cartList.innerHTML="";
  cart.forEach(p=>{
    cartList.innerHTML+=`
    <div class="cart-item">
      <img src="${p.img}">
      <div>
        <b>${p.name}</b><br>
        ${p.price} ₽
      </div>
    </div>`;
  });
  count.innerText=cart.length;
}

function makeCheck(){
  let sum=0,old=0;
  let text="RUSSO SHOP\n\n";
  cart.forEach(p=>{
    text+=`${p.name} — ${p.price} ₽\n`;
    sum+=p.price; old+=p.old;
  });
  text+=`\nОбщая сумма: ${old} ₽\nСо скидкой: ${sum} ₽`;

  const canvas=document.createElement("canvas");
  canvas.width=300;
  canvas.height=400;
  const ctx=canvas.getContext("2d");
  ctx.fillStyle="#fff";
  ctx.fillRect(0,0,300,400);
  ctx.fillStyle="#000";
  ctx.font="14px Arial";
  text.split("\n").forEach((l,i)=>ctx.fillText(l,10,20+i*18));

  const img=canvas.toDataURL("image/png");
  const a=document.createElement("a");
  a.href=img;
  a.download="check.png";
  a.click();

  setTimeout(()=>{
    location.href="https://t.me/rislan666";
  },1000);
}
</script>

</body>
</html>
