<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RUSSO SHOP</title>

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
}

/* ===== СНЕЖИНКИ ===== */
.snow{
  position:fixed;
  top:-10px;
  color:white;
  font-size:12px;
  animation:fall linear infinite;
  pointer-events:none;
}
@keyframes fall{
  to{transform:translateY(100vh)}
}

/* ===== КАТАЛОГ ===== */
.catalog{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:10px;
  padding:10px;
}

/* ===== КАРТОЧКА ===== */
.card{
  background:#111;
  border-radius:10px;
  overflow:hidden;
  padding:5px;
  font-size:12px;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card img{
  width:100%;
  height:120px;
  object-fit:cover;
  border-radius:6px;
  margin-bottom:6px;
}
.card:hover{
  transform: translateY(-5px);
  box-shadow:0 4px 12px rgba(255,255,255,0.2);
}

/* ===== БЕЙДЖ ===== */
.badge{
  background:#c80000;
  color:white;
  font-size:9px;
  padding:2px 5px;
  border-radius:5px;
  display:inline-block;
  margin-bottom:4px;
}

/* ===== ЦЕНЫ ===== */
.old{
  color:#fff;
  text-decoration:line-through;
  opacity:.6;
  font-size:11px;
}
.price{
  font-size:13px;
  font-weight:bold;
}

/* ===== СТРАНИЦЫ ===== */
.page{display:none}
.page.active{display:block}

button{
  background:#fff;
  color:#000;
  border:none;
  padding:10px;
  border-radius:8px;
  width:100%;
  margin-top:6px;
  font-weight:bold;
}

/* ===== КОРЗИНА ===== */
.cart-item{
  background:#111;
  padding:6px;
  border-radius:8px;
  display:flex;
  gap:6px;
  margin-bottom:6px;
}
.cart-item img{
  width:50px;
  height:50px;
  object-fit:cover;
  border-radius:6px;
}
</style>
</head>

<body>

<h2 style="text-align:center;margin:10px 0">RUSSO SHOP</h2>

<!-- ===== ГЛАВНАЯ ===== -->
<div id="home" class="page active">
  <div class="catalog" id="catalog"></div>
</div>

<!-- ===== СТРАНИЦА ТОВАРА ===== -->
<div id="product" class="page">
  <img id="pImg" style="width:100%;max-height:220px;object-fit:cover">
  <h3 id="pName"></h3>
  <div class="old" id="pOld"></div>
  <div class="price" id="pPrice"></div>
  <p id="pDesc"></p>
  <button onclick="addToCart()">Добавить в корзину</button>
  <button onclick="show('home')">Назад</button>
</div>

<!-- ===== КОРЗИНА ===== -->
<div id="cart" class="page">
  <h3>Корзина</h3>
  <div id="cartList"></div>
  <p>Выбрано товаров: <span id="count">0</span></p>
  <button onclick="makeCheck()">Получить чек</button>
  <div id="check"></div>
  <button onclick="show('home')">На главную</button>
</div>

<script>
/* ===== СНЕЖИНКИ ===== */
for(let i=0;i<25;i++){
  let s=document.createElement("div");
  s.className="snow";
  s.innerHTML="❄";
  s.style.left=Math.random()*100+"%";
  s.style.animationDuration=5+Math.random()*5+"s";
  document.body.appendChild(s);
}

/* ===== ТОВАРЫ ===== */
const products=[
{
 name:"RGB подсветка",
 img:"rgb.png",
 old:2670,
 price:2563,
 desc:"Умная RGB подсветка для комнаты"
}
];

let current=null;
let cart=[];

/* ===== РЕНДЕР КАТАЛОГА ===== */
const cat=document.getElementById("catalog");
products.forEach((p,i)=>{
  cat.innerHTML+=`
  <div class="card" onclick="openProduct(${i})">
    <div class="badge">НОВОГОДНЯЯ СКИДКА</div>
    <img src="${p.img}">
    <b>${p.name}</b>
    <div class="old">${p.old} ₽</div>
    <div class="price">${p.price} ₽</div>
  </div>`;
});

/* ===== НАВИГАЦИЯ ===== */
function show(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ===== СТРАНИЦА ТОВАРА ===== */
function openProduct(i){
  current=products[i];
  pImg.src=current.img;
  pName.innerText=current.name;
  pOld.innerText=current.old+" ₽";
  pPrice.innerText=current.price+" ₽";
  pDesc.innerText=current.desc;
  show("product");
}

/* ===== КОРЗИНА ===== */
function addToCart(){
  cart.push(current);
  renderCart();
  show("cart");
}

function renderCart(){
  cartList.innerHTML="";
  cart.forEach(p=>{
    cartList.innerHTML+=`
    <div class="cart-item">
      <img src="${p.img}">
      <div>
        <b>${p.name}</b><br>
        ${p.price} ₽
      </div>
    </div>`;
  });
  count.innerText=cart.length;
}

/* ===== ЧЕК (СКАЧИВАЕТСЯ КАРТИНКОЙ) ===== */
function makeCheck(){
  let sum=0, old=0;
  let lines=["RUSSO SHOP",""];
  cart.forEach(p=>{
    lines.push(p.name+" — "+p.price+" ₽");
    sum+=p.price;
    old+=p.old;
  });
  lines.push("");
  lines.push("Общая сумма: "+old+" ₽");
  lines.push("Со скидкой: "+sum+" ₽");

  const canvas=document.createElement("canvas");
  canvas.width=300;
  canvas.height=lines.length*22+20;
  const ctx=canvas.getContext("2d");
  ctx.fillStyle="#fff";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#000";
  ctx.font="14px Arial";
  lines.forEach((l,i)=>ctx.fillText(l,10,25+i*22));

  const a=document.createElement("a");
  a.href=canvas.toDataURL("image/png");
  a.download="check.png";
  a.click();

  setTimeout(()=>{
    location.href="https://t.me/rislan666";
  },1000);
}
</script>

</body>
</html>
